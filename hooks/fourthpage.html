<!DOCTYPE html><html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Sprite Viewer - Fuumi GFX</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    canvas {
      background-size: cover;
      background-position: center;
    }
  </style>
</head>
<body class="bg-[#1a1a1a] text-white font-sans">
  <header class="bg-[#111] py-4 shadow-md">
    <div class="container mx-auto px-4 flex justify-between items-center">
      <h1 class="text-2xl font-bold">Fuumi GFX Viewer</h1>
      <a href="../index.html" class="text-sm bg-violet-700 px-3 py-1 rounded hover:bg-violet-800">Back to Homepage</a>
    </div>
  </header>  <main class="container mx-auto px-4 py-8">
    <div class="mb-4">
      <label class="block text-sm font-bold mb-2">Choose File</label>
      <input type="file" id="imageInput" accept="image/*" class="bg-gray-800 text-white px-4 py-2 rounded" />
    </div>
    <div class="mb-4">
      <label class="block text-sm font-bold mb-2">Background Image</label>
      <input type="file" id="bgInput" accept="image/*" class="bg-gray-800 text-white px-4 py-2 rounded" />
    </div>
    <div class="mb-4">
      <canvas id="canvas" width="64" height="64" class="border mx-auto"></canvas>
    </div><div class="grid grid-cols-2 md:grid-cols-4 gap-4 max-w-md mx-auto">
  <label><input type="checkbox" checked class="layer-toggle" data-layer="head" /> Head</label>
  <label><input type="checkbox" checked class="layer-toggle" data-layer="hat" /> Hat</label>
  <label><input type="checkbox" class="layer-toggle" data-layer="accessory" /> Accessory</label>
  <label><input type="checkbox" checked class="layer-toggle" data-layer="body" /> Body</label>
  <label><input type="checkbox" class="layer-toggle" data-layer="shield" /> Shield</label>
  <label><input type="checkbox" checked class="layer-toggle" data-layer="sword" /> Sword</label>
  <label><input type="checkbox" checked class="layer-toggle" data-layer="horse" /> Horse</label>
  <label><input type="checkbox" checked class="layer-toggle" data-layer="param" /> Param</label>
</div>

  </main>  <script>
    const canvas = document.getElementById('canvas');
    const ctx = canvas.getContext('2d');
    let spriteImg = new Image();
    let bgImg = new Image();

    document.getElementById('imageInput').addEventListener('change', (e) => {
      const file = e.target.files[0];
      if (file) {
        const reader = new FileReader();
        reader.onload = () => {
          spriteImg.src = reader.result;
          spriteImg.onload = () => draw();
        };
        reader.readAsDataURL(file);
      }
    });

    document.getElementById('bgInput').addEventListener('change', (e) => {
      const file = e.target.files[0];
      if (file) {
        const reader = new FileReader();
        reader.onload = () => {
          bgImg.src = reader.result;
          bgImg.onload = () => draw();
        };
        reader.readAsDataURL(file);
      }
    });

    function draw() {
      ctx.clearRect(0, 0, canvas.width, canvas.height);
      if (bgImg.src) ctx.drawImage(bgImg, 0, 0, canvas.width, canvas.height);
      if (spriteImg.src) ctx.drawImage(spriteImg, 0, 0);
    }

    document.querySelectorAll('.layer-toggle').forEach(checkbox => {
      checkbox.addEventListener('change', () => {
        // You can assign layer logic here if separating by sprites
        draw();
      });
    });
  </script></body>
</html>
